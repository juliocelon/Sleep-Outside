import{r as i,g as c}from"./utils-DO69oM1T.js";import{P as l}from"./ProductData-qEP58zgO.js";function d(){return window.location.hostname.includes("github.io")?"/Sleep-Outside/":"./"}function u(e){console.log("ğŸ”§ fixImagePath called with:",e),console.log("ğŸ”§ Current URL:",window.location.href);const t=window.location.href.includes("/Sleep-Outside/"),o=window.location.hostname.includes("github.io");if(!t&&!o)return console.log("ğŸ”§ Development mode - using original path"),e;{console.log("ğŸ”§ Production mode detected");const r={"marmot-ajax-tent-3-person-3-season-in-pale-pumpkin-terracotta~p~880rr_01~320.jpg":"marmot-ajax-tent-3-person-3-season-in-pale-pumpkin-terracotta~p~880rr_01~320-CwrOuOqG.jpg","the-north-face-talus-tent-4-person-3-season-in-golden-oak-saffron-yellow~p~985rf_01~320.jpg":"the-north-face-talus-tent-4-person-3-season-in-golden-oak-saffron-yellow~p~985rf_01~320-B_cTxQf6.jpg","the-north-face-alpine-guide-tent-3-person-4-season-in-canary-yellow-high-rise-grey~p~985pr_01~320.jpg":"the-north-face-alpine-guide-tent-3-person-4-season-in-canary-yellow-high-rise-grey~p~985pr_01~320-CJsXUy8z.jpg","cedar-ridge-rimrock-tent-2-person-3-season-in-rust-clay~p~344yj_01~320.jpg":"cedar-ridge-rimrock-tent-2-person-3-season-in-rust-clay~p~344yj_01~320-BUtqhik6.jpg"},n=e.split("/").pop();return`/Sleep-Outside/assets/${r[n]||n}`}}class h{constructor(t,o,r){this.category=t,this.dataSource=o,this.listElement=r,this.products=[]}async init(){console.log("ğŸ”„ ProductList.init() started"),this.products=await this.dataSource.getData(),console.log("ğŸ“¦ Products loaded:",this.products.length,this.products),this.renderList(this.products)}renderList(t){console.log("ğŸ¨ Rendering product list with",t.length,"products"),i(p,this.listElement,t,"afterbegin",!0)}}function p(e){console.log("ğŸ–¼ï¸ Rendering product:",e.NameWithoutBrand);const t=d(),o=u(e.Image);return console.log("ğŸ–¼ï¸ Base path:",t),console.log("ğŸ–¼ï¸ Original image:",e.Image),console.log("ğŸ–¼ï¸ Fixed image path:",o),console.log("ğŸ–¼ï¸ Will use in template:",o),`
    <li class="product-card">
      <a href="${t}product_pages/?product=${e.Id}">
        <img
          src="${o}"
          alt="${e.NameWithoutBrand}"
          onload="console.log('âœ… Image loaded successfully:', this.src)"
          onerror="console.log('âŒ Image failed to load:', this.src)"
        />
        <h3 class="card__brand">${e.Brand.Name}</h3>
        <h2 class="card__name">${e.NameWithoutBrand}</h2>
        <p class="product-card__price">$${e.FinalPrice}</p>
      </a>
    </li>
  `}const g=["880RR","985RF","985PR","344YJ"];function m(){return window.location.hostname.includes("github.io")?"/Sleep-Outside/":"./"}function f(){const e=c(),t=document.querySelector(".cart"),o=t.querySelector(".cart-badge");if(o&&o.remove(),e>0){const r=document.createElement("span");r.className="cart-badge",r.textContent=e,t.appendChild(r)}}function s(){const e=m();document.querySelectorAll('a[href="../index.html"], a[href="/src/index.html"], a[href="/"]').forEach(n=>{n.href=e}),document.querySelectorAll('a[href="../cart/index.html"], a[href="/cart/index.html"]').forEach(n=>{n.href=`${e}cart/`}),document.querySelectorAll('a[href*="product_pages"]').forEach(n=>{const a=n.href.split("product=")[1];a&&(n.href=`${e}product_pages/?product=${a}`)})}document.addEventListener("DOMContentLoaded",async function(){const e=document.querySelector(".product-list");if(e)try{const t=new l("tents"),o=new h("tents",t,e),n=(await t.getData()).filter(a=>g.includes(a.Id));o.renderList(n),setTimeout(s,100)}catch{}s(),f()});
