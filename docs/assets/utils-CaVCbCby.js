(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}})();function u(t){return JSON.parse(localStorage.getItem(t))}function l(t,e){localStorage.setItem(t,JSON.stringify(e))}function f(t){const e=window.location.search;return new URLSearchParams(e).get(t)}function d(){const t=JSON.parse(localStorage.getItem("so-cart"))||[];return Array.isArray(t)?t.reduce((e,o)=>e+(o.quantity||1),0):1}function m(t){let e=JSON.parse(localStorage.getItem("so-cart"))||[];Array.isArray(e)||(e=[e]);const o=e.filter(n=>n.Id!==t);return l("so-cart",o),o}function p(t,e,o,n="afterbegin",r=!1){r&&(e.innerHTML="");const a=o.map(t);e.insertAdjacentHTML(n,a.join(""))}async function c(t,e,o,n){e.insertAdjacentHTML("afterbegin",t)}async function s(t){const e=await fetch(t);if(e.ok)return await e.text();throw new Error(`Failed to load template: ${t}`)}async function g(){try{const t=await s("/public/partials/header.html"),e=document.getElementById("main-header");e&&await c(t,e);const o=await s("/public/partials/footer.html"),n=document.getElementById("main-footer");n&&await c(o,n)}catch(t){console.error("Error loading header/footer:",t)}}export{u as a,f as b,p as c,d as g,g as l,m as r,l as s};
